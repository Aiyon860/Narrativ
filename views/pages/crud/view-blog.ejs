<div class="container p-5">
  <div class="row g-5 mb-sm-5 mb-1">
    <div class="col col-md-2 col-lg-3">
      <!--  -->
    </div>

    <% const blog = locals.blog._data %>

    <div id="main-blog-content" class="col-12 col-md-8 col-lg-6 px-0">
      <h1 id="blog-title-view" class="montserrat-extra-bold mb-4"><%= blog.title %></h1>
      
      <% const fullUTCDate = new Date(blog.updatedAt) %>
      <% const [month, number, year] = [fullUTCDate.toLocaleString('en-US', { month: 'long' }), fullUTCDate.getUTCDate(), fullUTCDate.getUTCFullYear()]; %>

      <h6 id="blog-author-date-view" class="open-sans-regular mb-4">By <span id="author-name-description" class="open-sans-bold"><%= blog.author.name %></span> - <%= month %> <%= number %>, <%= year %></h6>

      <h5 id="blog-subtitle-view" class="open-sans-regular mb-4"><%= blog.subtitle %></h5>

      <img src="<%= blog.image.base64image %>" id="image-blog" class="img-fluid rounded-5 mb-4" alt="image">

      <% for (let i = 0; i < blog.content.length; ++i) { %>
        <p id="blog-content-view" class="text-content open-sans-regular fs-5">
          <%= blog.content[i] %>
        </p>
      <% } %>

      <div id="author-info-view" class="container bg-black p-4 px-5 rounded-4 my-5">
        <h3 id="author-blog-title-footer" class="montserrat-bold mb-3"><%= blog.author.name %></h3>
        <p id="author-blog-description-footer" class="open-sans-semi-bold-italic text-white lh-sm fst-italic"><%= blog.author.bio %></p>
      </div>
    </div>

    <div class="col col-md-2 col-lg-3">
      <div class="position-absolute h-100">
        <div class="back-to-top-view-blog container position-fixed rounded-circle d-flex justify-content-center align-items-center">
          <i class="fa fa-chevron-up"></i>
        </div>
      </div>
    </div>
  </div>
</div>

<% if (locals.user._data.blogs.length > 1) { %>
  <% const blogs = locals.user._data.blogs; %>
  <% const rowsInfo = { amount: blogs.length, activePosition: 0 }; %>
  
  <div id="read-next">
    <div id="myCarousel" class="carousel slide mb-5" data-bs-ride="carousel">
      <div class="container">
        <div class="row g-5 w-75 mx-auto">
          <div class="col-12 col-md-6 mb-4">
            <h2 id="read-next-title" class="montserrat-bold">Read Next</h2>
          </div>
          <div class="col-12 col-md-6 mb-4 rest-part-read-next">
            <!--  -->
          </div>
        </div>
      </div>

      <div class="carousel-indicators">
        <% for (let i = 0; i < rowsInfo.amount; ++i){ %>
          <button data-bs-target="#myCarousel" data-bs-slide-to="<%= i %>" class="<%= (i + 1 === rowsInfo.activePosition ? "active" : "") %>" aria-label="Slide <%= i + 1 %>"></button>
        <% } %>
      </div>
      
      <div class="carousel-inner mt-sm-2 mt-0">
        <% for (let i = 0; i < rowsInfo.amount; ++i) { %>
          <div class="carousel-item">
            <div class="container">
              <div class="row g-5 w-75 mx-auto d-flex justify-content-center row-blogs">
                <div class="col-12 col-md-6 col-xl-4 read-next-blog">
                  <div class="card border-0 bg-transparent">
                    <div class="img-container position-relative">
                      <div class="img-inner-container position-relative overflow-hidden rounded-4">
                        <img src="pic.jpg" class="actual-image-thumbnail card-img-top rounded-4" alt="image">
                      </div>
                    </div>
        
                    <div class="card-body px-0">
                      <h3 class="read-next-blog-title card-title montserrat-bold mb-3 d-inline-block"><%= blogs[i]._data.title %></h3>
                      <h6 class="read-next-blog-subtitle card-subtitle mb-3 text-muted open-sans-regular"><%= blogs[i]._data.subtitle %></h6>
                      <p class="read-next-blog-author card-text open-sans-semi-bold">By <%= blogs[i]._data.author.name %></p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        <% } %>
      </div>
  
      <button class="carousel-control-prev" type="button" data-bs-target="#myCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
  
      <button class="carousel-control-next" type="button" data-bs-target="#myCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
  </div>

  <div class="container p-5">
    <!--  -->
  </div>
<% } %>